# yaml-language-server: $schema=https://mise.jdx.dev/schema/mise.json
# mise.toml - Universal Runtime Version Management
# Replaces: nvm, pyenv, goenv, rbenv, rustup (for version pinning)
# https://mise.jdx.dev
# Schema: https://mise.jdx.dev/schema/mise.json

[tools]
# =============================================================================
# CORE LANGUAGES
# =============================================================================

# Go - Primary for orchestration, CLI tools, agents
go = "1.23"

# Rust - Systems programming, performance-critical code
rust = "latest"

# Python - AI/ML, scripting, data processing
python = "3.12"

# Node.js - Legacy tooling compatibility
node = "lts"

# =============================================================================
# MODERN RUNTIMES (Drop-in replacements)
# =============================================================================

# Bun - Node.js/npm replacement for JS/TS
# Faster package manager, runtime, bundler, test runner
bun = "latest"

# Astral UV - pip/pip-tools/virtualenv replacement
# 10-100x faster Python package management
uv = "latest"

# =============================================================================
# AI CODING TOOLS
# =============================================================================
# Installation priority: curl > mise > bun > npm > homebrew
#
# Claude Code - Install via curl (npm is deprecated):
#   curl -fsSL https://claude.ai/install.sh | bash
#
# The following are managed by mise:

# OpenCode - AI coding assistant (mise native plugin)
opencode = "latest"

# OpenAI Codex - AI coding agent (requires Node 22+)
"npm:@openai/codex" = "latest"

# Google Gemini CLI - AI assistant (requires Node 20+)
"npm:@google/gemini-cli" = "latest"

# =============================================================================
# PYTHON TOOLS (via pipx/uv)
# =============================================================================

# Type checker (mypy for static type checking)
"pipx:mypy" = "latest"

# Ruff - Linter + formatter (replaces flake8, black, isort)
"pipx:ruff" = "latest"

# SkyPilot - Cloud compute orchestration
"pipx:skypilot[aws]" = "latest"

# =============================================================================
# INFRASTRUCTURE TOOLS
# =============================================================================

# Terraform/OpenTofu
terraform = "latest"

# Pulumi (alternative IaC)
# pulumi = "latest"

# =============================================================================
# ADDITIONAL LANGUAGE SUPPORT
# =============================================================================

# Java (for JVM-based tools if needed)
# java = "21"

# Ruby (for legacy tooling)
# ruby = "3.3"

# Zig (modern C alternative)
# zig = "latest"

# Deno (secure JS/TS runtime)
deno = "latest"

[env]
# =============================================================================
# GLOBAL ENVIRONMENT VARIABLES
# =============================================================================

# Go
GO111MODULE = "on"
GOPATH = "{{env.HOME}}/go"
GOBIN = "{{env.HOME}}/go/bin"

# Python - Force UV-managed environments
UV_PYTHON_PREFERENCE = "only-managed"
PYTHONDONTWRITEBYTECODE = "1"

# Editor
EDITOR = "cursor --wait"
VISUAL = "cursor --wait"

# Homebrew
HOMEBREW_NO_ANALYTICS = "1"
HOMEBREW_NO_ENV_HINTS = "1"

# Docker (OrbStack)
DOCKER_HOST = "unix://{{env.HOME}}/.orbstack/run/docker.sock"

# XDG Base Directory (standardize config locations)
XDG_CONFIG_HOME = "{{env.HOME}}/.config"
XDG_DATA_HOME = "{{env.HOME}}/.local/share"
XDG_CACHE_HOME = "{{env.HOME}}/.cache"
XDG_STATE_HOME = "{{env.HOME}}/.local/state"

[settings]
# Enable experimental features
experimental = true

# Trust all config files in this project
trusted_config_paths = ["~/dev"]

# Automatically install missing tools
auto_install = true

# Use parallel jobs for faster installation
jobs = 4

# =============================================================================
# TOOL VERSION ALIASES (new format, replaces deprecated [alias])
# =============================================================================

[tool_alias.python.versions]
py312 = "3.12"
py311 = "3.11"

[tool_alias.node.versions]
lts-iron = "20"
lts-hydrogen = "18"
