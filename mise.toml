# yaml-language-server: $schema=https://mise.jdx.dev/schema/mise.json
# mise.toml - Universal Runtime Version Management
# Replaces: nvm, pyenv, goenv, rbenv, rustup (for version pinning)
# https://mise.jdx.dev
# Schema: https://mise.jdx.dev/schema/mise.json

[tools]
# =============================================================================
# CORE LANGUAGES (all set to latest for cutting-edge development)
# =============================================================================

# Go - Primary for orchestration, CLI tools, agents
go = "latest"

# Rust - Systems programming, performance-critical code
rust = "latest"

# Python - AI/ML, scripting, data processing
python = "latest"

# Node.js - For npm packages and JS tooling
node = "latest"

# =============================================================================
# MODERN RUNTIMES (Drop-in replacements)
# =============================================================================

# Bun - Node.js/npm replacement for JS/TS
# Faster package manager, runtime, bundler, test runner
bun = "latest"

# Astral UV - pip/pip-tools/virtualenv replacement
# 10-100x faster Python package management
uv = "latest"

# =============================================================================
# AI CODING TOOLS
# =============================================================================
# Installation priority: curl > mise > bun > npm > homebrew
# Claude Code - Install via curl (npm is deprecated):
#   curl -fsSL https://claude.ai/install.sh | bash
#
# The following are managed by mise:

# OpenCode - AI coding assistant (mise native plugin)
opencode = "latest"

# OpenAI Codex - AI coding agent (requires Node 22+)
"npm:@openai/codex" = "latest"

# Google Gemini CLI - AI assistant (requires Node 20+)
"npm:@google/gemini-cli" = "latest"

# =============================================================================
# PYTHON/CLI TOOLS
# =============================================================================
# Priority: Pre-built binaries (aqua/ubi) > pipx (uses uvx when uv installed)
# Note: pipx: backend automatically uses uvx for speed when uv is available

# Ruff - Linter + formatter (pre-built binary via registry)
ruff = "latest"

# Type checker (mypy - pure Python, uses uvx via pipx backend)
"pipx:mypy" = "latest"

# SkyPilot - Cloud compute orchestration (pure Python, uses uvx)
"pipx:skypilot[aws]" = "latest"

# =============================================================================
# INFRASTRUCTURE TOOLS
# =============================================================================

# Terraform/OpenTofu
terraform = "latest"

# Pulumi (alternative IaC)
# pulumi = "latest"

# =============================================================================
# ADDITIONAL LANGUAGE SUPPORT
# =============================================================================

# Java (for JVM-based tools if needed)
# java = "21"

# Ruby (for legacy tooling)
# ruby = "3.3"

# Zig (modern C alternative)
# zig = "latest"

# Deno (secure JS/TS runtime)
deno = "latest"

[env]
# =============================================================================
# GLOBAL ENVIRONMENT VARIABLES
# =============================================================================

# Go
GO111MODULE = "on"
GOPATH = "{{env.HOME}}/go"
GOBIN = "{{env.HOME}}/go/bin"

# Python - Force UV-managed environments
UV_PYTHON_PREFERENCE = "only-managed"
PYTHONDONTWRITEBYTECODE = "1"

# Editor
EDITOR = "cursor --wait"
VISUAL = "cursor --wait"

# Homebrew
HOMEBREW_NO_ANALYTICS = "1"
HOMEBREW_NO_ENV_HINTS = "1"

#

# XDG Base Directory (standardize config locations)
XDG_CONFIG_HOME = "{{env.HOME}}/.config"
XDG_DATA_HOME = "{{env.HOME}}/.local/share"
XDG_CACHE_HOME = "{{env.HOME}}/.cache"
XDG_STATE_HOME = "{{env.HOME}}/.local/state"

[settings]
# Enable experimental features
experimental = true

# Trust all config files in this project
trusted_config_paths = ["~/dev"]

# Automatically install missing tools
auto_install = true

# Use parallel jobs for faster installation
jobs = 4

# =============================================================================
# TOOL VERSION ALIASES (for pinning to specific versions when needed)
# =============================================================================

[tool_alias.python.versions]
py314 = "3.14"
py313 = "3.13"
py312 = "3.12"

[tool_alias.node.versions]
lts = "24"
node22 = "22"
node20 = "20"
